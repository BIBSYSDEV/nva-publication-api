dependencies {
    implementation project(":publication-commons")
    implementation project(":publication-doi-commons")
    implementation project(":datacite-commons")

    implementation nvaLibs.apigateway
    implementation nvaLibs.identifiers
    implementation nvaLibs.secrets
    implementation nvaLibs.core
    implementation nvaLibs.json
    implementation nvaLibs.auth
    implementation project(":publication-model")
    implementation nvaCatalog.aws.sdk.dynamo
    implementation nvaCatalog.aws.sdk2.secrets

    implementation nvaCatalog.jackson.annotations
    implementation nvaCatalog.jackson.databind

    implementation nvaCatalog.guava
    implementation nvaCatalog.zalando
    implementation nvaCatalog.bundles.logging

    runtimeOnly nvaCatalog.jackson.core

    testImplementation project(":publication-model-testing")
    testImplementation nvaCatalog.jackson.core
    testImplementation project(':publication-testing')
    testImplementation nvaLibs.testutils
    testImplementation project(":tickets-test")
    testImplementation nvaLibs.logutils
    testImplementation nvaCatalog.bundles.wiremock
    compileOnly nvaCatalog.zalando
    compileOnly nvaCatalog.aws.lambda.core
}

test {
    environment "AWS_REGION", "eu-west-1"
    environment "COGNITO_HOST", "https://example.com"
    environment "ALLOWED_ORIGIN", "*"
    environment "TABLE_NAME", "some-table-name"
    environment "API_HOST", "localhost"
    environment "BACKEND_CLIENT_SECRET_NAME", "someSecret"
    environment "BACKEND_CLIENT_AUTH_URL", "https://auth.example.com"
    environment "COGNITO_AUTHORIZER_URLS", "http://localhost:3000"
}
