plugins{
    id 'nva.publication.api.rootplugin'
}

//workaround for jacoco-merge to work
allprojects{
    apply plugin: 'nva.publication.api.java-conventions'
    apply plugin: 'nva.publication.api.dynamo-db'
}

tasks.withType(JavaCompile) {
    sourceCompatibility = JavaVersion.VERSION_21
}

wrapper {
    gradleVersion = '8.5'
    distributionType = Wrapper.DistributionType.ALL
}

task("addGitHooks") {
    exec {
        commandLine("cp", "./.scripts/pre-push", "./.git/hooks")
        commandLine("chmod", "+x", "./.git/hooks/pre-push")
    }
    println("Added git hooks scripts to local git hooks")
}
